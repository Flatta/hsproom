{{ define "Header" }}
<style type="text/css">

.detail {
	margin-bottom: 30px;
}
.twitter-timeline {
	height: 500px;
}

.programs {
	height: 460px;

	overflow: scroll;
}

.new_information {
	height: 500px;

}

</style>
{{ end }}

{{ define "Content" }}

<div class="row">
	<div class="col-md-6 col-md-offset-3 detail">
		<div class="jumbotron">
			<h2 class="text-primary">HSP部屋へようこそ！</h2>
			<p>ここではユーザの投稿したHSP製プログラムを<b>遊んだり</b>、<b>投稿したり</b>する場です。</p>
			<p>日頃のちょっとした思いつきを、HSPで簡単に公開しましょう。</p>
			<a class="btn btn-primary btn-lg" href="/program/">プログラムを遊ぶ</a>
		</div>
	</div>
</div>

<div class="row sub_detail">
	<div class="col-md-4">
		<a class="twitter-timeline" href="https://twitter.com/hashtag/hsproom" data-widget-id="564634329620303872">HSP部屋のツイート</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</div>
	<div class="col-md-4">
		<div class="panel panel-primary">
			<div class="panel-heading">
				新着プログラム
			</div>
			<div class="panel-body programs">
			{{ range .RecentPrograms }}
				{{ if eq .Title "" }}
				{{ else }}
				<div class="program_list_item">
					<div class="program_picture thumbnail">
						<img src="/api/program/thumbnail/?p={{ .Id }}" />
					</div>
					<div class="program_content">
						<div class="program_item_heading">
							<span class="h2"><a href="/program/view/?pid={{ .Id }}">{{ .Title }}</a></span>
							<span class="small">by <a href="/user/view/?u={{ .User }}">{{ .UserName }}</a></span>
						</div>
						<div class="program_item_accessory">
							<span class="played_number"><i class="mdi-av-play-circle-outline"></i>{{ .Play }}</span> 
							<span class="good_number"><i class="mdi-social-mood"></i>{{ .Good }}</span>
							<div class="date text-right">{{ .Created.Format "Jan _2 3:04:05 PM (Mon)" }}</div>

						</div>
						<p class="program_item_text">{{ markdown (subString .Description 0 150) }}</p>
					</div>
				</div>
				<div class="program_separator"></div>
				{{ end }}
			{{ else }}
				まだプログラムはありません。
			{{ end }}
			</div>
		</div>
	</div>
	<div class="col-md-4">
		<div class="new_information panel panel-default">
			<div class="panel-heading">
				新着情報
			</div>
			<div class="panel-body">
				<li><h5>2015年4月7日</h5>
					<p>高度な設定として、実行ステップ数の上限を設定できるようになりました。<br />
					値を増やすことによって、描画のうまくいかないプログラムが直るかもしれません。
					</p>
				<li><h5>2015年3月30日</h5>
					<p>大きなサイズの画像などを送信した際にエラーになる不具合を修正、<br />
					プログラム投稿後に画面遷移するように変更しました。
					</p>
				</li>
				<li><h5>2015年3月8日</h5>
					<p>コメント表示の処理を変更。今までのコメントの一部が見れなくなります。</p>
				</li>
				<li><h5>2015年3月2日</h5>
					<p>ベータ版として試験的に公開</p>
				</li>
			</div>
		</div>
	</div>
</div>

{{ end }}
